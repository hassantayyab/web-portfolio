/* Rich Text Renderer Styles */

.rich-text-content {
  @apply text-gray-900 dark:text-gray-100;
}

/* Typography - Override prose styles with our responsive heading classes */
.rich-text-content h1 {
  @apply font-bold mt-10 mb-6;
  font-size: clamp(1.75rem, 4vw + 0.5rem, 2.5rem) !important;
  line-height: 1.2 !important;
  letter-spacing: -0.01em;
  color: rgb(17 24 39);
  scroll-margin-top: 6rem;
}

.dark .rich-text-content h1 {
  color: rgb(243 244 246);
}

.rich-text-content h2 {
  @apply font-bold mt-8 mb-5;
  font-size: clamp(1.25rem, 2.75vw + 0.4rem, 2rem) !important;
  line-height: 1.3 !important;
  color: rgb(17 24 39);
  scroll-margin-top: 6rem;
}

.dark .rich-text-content h2 {
  color: rgb(243 244 246);
}

.rich-text-content h3 {
  @apply font-semibold mt-7 mb-4;
  font-size: clamp(1.125rem, 1.75vw + 0.2rem, 1.625rem) !important;
  line-height: 1.4 !important;
  color: rgb(17 24 39);
  scroll-margin-top: 6rem;
}

.dark .rich-text-content h3 {
  color: rgb(243 244 246);
}

.rich-text-content h4 {
  @apply font-semibold mt-6 mb-3;
  font-size: clamp(1rem, 1.25vw + 0.2rem, 1.375rem) !important;
  line-height: 1.4 !important;
  color: rgb(17 24 39);
  scroll-margin-top: 6rem;
}

.dark .rich-text-content h4 {
  color: rgb(243 244 246);
}

.rich-text-content p {
  @apply text-lg leading-8 mb-6 text-gray-700 dark:text-gray-300;
}

/* Links */
.rich-text-content a {
  @apply text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300 transition-colors;
}

/* Lists */
.rich-text-content ul,
.rich-text-content ol {
  @apply my-4 pl-6;
}

.rich-text-content ul {
  @apply list-disc;
}

.rich-text-content ol {
  @apply list-decimal;
}

.rich-text-content li {
  @apply mb-3 text-lg text-gray-700 dark:text-gray-300 leading-7;
}

.rich-text-content li > p {
  @apply mb-1;
}

/* Blockquotes */
.rich-text-content blockquote {
  @apply border-l-4 border-blue-500 dark:border-blue-400 pl-4 py-2 my-4 italic bg-gray-50 dark:bg-gray-900 rounded-r;
}

.rich-text-content blockquote p {
  @apply text-gray-600 dark:text-gray-400 mb-0;
}

/* Code */
.rich-text-content code {
  @apply bg-gray-100 dark:bg-gray-800 text-red-600 dark:text-red-400 px-1.5 py-0.5 rounded text-sm font-mono;
}

/* Code Blocks */
.rich-text-content pre {
  @apply bg-gray-900 dark:bg-gray-950 text-gray-100 p-4 rounded-lg overflow-x-auto my-6 relative border border-gray-800;
  font-family: 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
  font-size: 0.9rem;
  line-height: 1.6;
}

.rich-text-content pre code {
  @apply bg-transparent text-gray-100 p-0 text-sm leading-relaxed;
  font-family: inherit;
  font-size: inherit;
  color: inherit;
}

/* Syntax Highlighting - Override highlight.js styles for better visibility */
.rich-text-content pre .hljs {
  background: transparent !important;
  color: #e5e7eb !important;
}

.rich-text-content pre .hljs-comment,
.rich-text-content pre .hljs-quote {
  color: #6b7280 !important;
  font-style: italic;
}

.rich-text-content pre .hljs-keyword,
.rich-text-content pre .hljs-selector-tag,
.rich-text-content pre .hljs-built_in,
.rich-text-content pre .hljs-name,
.rich-text-content pre .hljs-tag {
  color: #c084fc !important;
}

.rich-text-content pre .hljs-string,
.rich-text-content pre .hljs-title,
.rich-text-content pre .hljs-section,
.rich-text-content pre .hljs-attribute,
.rich-text-content pre .hljs-literal,
.rich-text-content pre .hljs-template-tag,
.rich-text-content pre .hljs-template-variable,
.rich-text-content pre .hljs-type,
.rich-text-content pre .hljs-addition {
  color: #34d399 !important;
}

.rich-text-content pre .hljs-deletion,
.rich-text-content pre .hljs-selector-attr,
.rich-text-content pre .hljs-selector-pseudo,
.rich-text-content pre .hljs-meta {
  color: #f87171 !important;
}

.rich-text-content pre .hljs-doctag {
  color: #60a5fa !important;
}

.rich-text-content pre .hljs-attr {
  color: #fbbf24 !important;
}

.rich-text-content pre .hljs-symbol,
.rich-text-content pre .hljs-bullet,
.rich-text-content pre .hljs-link {
  color: #60a5fa !important;
}

.rich-text-content pre .hljs-emphasis {
  font-style: italic;
}

.rich-text-content pre .hljs-strong {
  font-weight: bold;
}

.rich-text-content pre .hljs-number {
  color: #fb923c !important;
}

.rich-text-content pre .hljs-function,
.rich-text-content pre .hljs-class .hljs-title {
  color: #60a5fa !important;
}

/* Copy button for code blocks */
.rich-text-content .copy-button {
  @apply absolute top-2 right-2 p-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors;
}

/* Syntax Highlighting */
.rich-text-content .hljs-comment,
.rich-text-content .hljs-quote {
  @apply text-gray-500;
}

.rich-text-content .hljs-keyword,
.rich-text-content .hljs-selector-tag {
  @apply text-purple-400;
}

.rich-text-content .hljs-string,
.rich-text-content .hljs-number,
.rich-text-content .hljs-regexp {
  @apply text-green-400;
}

.rich-text-content .hljs-title,
.rich-text-content .hljs-section {
  @apply text-yellow-400;
}

.rich-text-content .hljs-attribute,
.rich-text-content .hljs-attr {
  @apply text-orange-400;
}

.rich-text-content .hljs-built_in {
  @apply text-red-400;
}

.rich-text-content .hljs-variable {
  @apply text-blue-400;
}

/* Images */
.rich-text-content img {
  @apply rounded-lg shadow-lg my-6 max-w-full h-auto;
}

/* Tables */
.rich-text-content table {
  @apply w-full my-6 border-collapse border border-gray-300 dark:border-gray-700;
  display: table;
  width: 100%;
  border-spacing: 0;
}

.rich-text-content thead {
  @apply bg-gray-100 dark:bg-gray-800;
}

.rich-text-content tbody {
  display: table-row-group;
}

.rich-text-content tr {
  @apply border-b border-gray-300 dark:border-gray-700;
  transition: background-color 0.2s;
}

.rich-text-content tr:hover {
  @apply bg-gray-50 dark:bg-gray-900/50;
}

.rich-text-content th {
  @apply border border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 px-4 py-3 font-semibold text-left;
  display: table-cell;
}

.rich-text-content td {
  @apply border border-gray-300 dark:border-gray-700 px-4 py-3;
  display: table-cell;
}

.rich-text-content tbody tr:nth-child(even) {
  @apply bg-gray-50 dark:bg-gray-900/30;
}

/* Horizontal Rule */
.rich-text-content hr {
  @apply my-8 border-t-2 border-gray-200 dark:border-gray-800;
}

/* Text Alignment */
.rich-text-content [style*='text-align: center'] {
  @apply text-center;
}

.rich-text-content [style*='text-align: right'] {
  @apply text-right;
}

.rich-text-content [style*='text-align: justify'] {
  @apply text-justify;
}

/* Highlights */
.rich-text-content mark {
  @apply bg-yellow-200 dark:bg-yellow-900/50 text-gray-900 dark:text-gray-100 px-1 rounded;
}

/* Responsive Images */
@media (max-width: 768px) {
  .rich-text-content img {
    @apply w-full;
  }
}

/* Print Styles */
@media print {
  .rich-text-content {
    @apply text-black;
  }

  .rich-text-content a {
    @apply text-black underline;
  }

  .rich-text-content pre {
    @apply border border-black;
  }

  .rich-text-content .copy-button {
    @apply hidden;
  }
}
